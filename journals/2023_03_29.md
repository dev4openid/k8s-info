- # NAMESPACES
- ```
  kubectl get namespaces
  NAME              STATUS   AGE
  default           Active   106m  
  kube-node-lease   Active   106m  
  kube-public       Active   106m  
  kube-system       Active   106m
  ```
- kube-system - leave alone (automated to kubectl system processes- manages master and kubectl process)
- kube-public - public accessible data, a configmap containing cluster info (anyone accessible)
	- ```
	  kubectl cluster-info 	# --->
	  Kubernetes control plane is running at https://192.168.49.2:8443
	  CoreDNS is running at https://192.168.49.2:8443/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy
	  - To further debug and diagnose cluster problems, use 'kubectl cluster-info dump'.
	  ```
- kube-node-lease
	- 1.  heartbeat of nodes
	  2. each node has associated lease object in namespace
	  3. determines availability of a node
- default
	- resources created are positioned here
	- ```
	  kubectl create namespace my-namespace 	# --->
	  namespace/my-namespace created
	  
	  kubectl get namespaces		# --->
	  NAME              STATUS   AGE
	  default           Active   124m
	  kube-node-lease   Active   124m
	  kube-public       Active   124m
	  kube-system       Active   124m
	  my-namespace      Active   108s
	  ```
- namespace are added to configmap as best practice
	- ```
	  apiVersion: v1
	  kind: ConfigMap
	  metadata:
	    name: mongodb-configmap
	    namespace:  my-namespace    # best practice: add it here so there is a record
	  data:
	    database-url: mongodb-service
	  ```
- Why namespaces?
	- Structure:  Resourdces map into namespaces (e.g. Database or Monitoring)
	- Conflicts: Many teams, same application
	- Resource sharing: Staging and Deployment
	- Resource Sharing: Blue/Green Deployment
	- Access and Resources Limits on Namespaces
	- ALL components should have namespace! otherwise they revert to default namespace!
- Change active namespace (otherwise each time kubectl requires -n namesspace=my-namespace)
	- **Power tools for kubectl**
	- In short-term use kubens allowing highlight of selected namespace being operated on:
		- [https://github.com/ahmetb/kubectx#installation]
		- ```
		  brew install kubectx	# to get utils such as kubens  OR sudo apt install kubectx
		  						# https://github.com/ahmetb/kubectx#installation
		  kubens
		  
		  OR kubens my-namespace   # makes it the current namespace vs. default
		  ```
		-
		- Addon: add brew install kube-ps1, then kubeon/kubeoff incl namespace in prompt
			- https://github.com/jonmosco/kube-ps1
	- # INGRESS
	- Ingress Controllers - 3rd party supplied - refer to https://kubernetes.io/docs/concepts/services-networking/ingress-controllers/
		- 1. evaluates all the rules
		  2. manages redirections
		  3. entrypoint to cluster
		  4. many 3rd party implementations
	- let us use K8s Nginx Ingress Controller
	- when using cloud provider (e.g. AWS) then AWS provides the Cloud Load Balancer that forwards/maps onto the Ingress Controller Pod (Pod - since there is a number of Ingress Controllers); this is contingent on Cloud Provider; also many ways to address this via combinations
	- an alternative: introduce a separate server - Proxy server - to forward to cluster - has own Ingress Controller checks first then forwards to cluster
	- In Minikube:
	- ```
	  minikube addons enable ingress
	  
	  ðŸ’¡  ingress is an addon maintained by Kubernetes. For any concerns contact minikube on GitHub.
	  You can view the list of minikube maintainers at: https://github.com/kubernetes/minikube/blob/master/OWNERS
	      â–ª Using image registry.k8s.io/ingress-nginx/controller:v1.5.1
	      â–ª Using image registry.k8s.io/ingress-nginx/kube-webhook-certgen:v20220916-gd32f8c343
	      â–ª Using image registry.k8s.io/ingress-nginx/kube-webhook-certgen:v20220916-gd32f8c343
	  ðŸ”Ž  Verifying ingress addon...
	  ðŸŒŸ  The 'ingress' addon is enabled
	  ```
	-
	-
	-
	-
	-
	-